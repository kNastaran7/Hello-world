<!DOCTYPE html>
<html>
    <head>
    <title>Pintrest Login</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    </head>
    <body>
    <p onclick="pintrest()">Click me</p>
        <p id="demo"></p>
        <p id="demo2"></p>

    <div id="result"></div>
<script>
    
function pintrest()
    {
    window.pAsyncInit = function() {
        PDK.init({
            appId: "4903274313909551487",
            cookie: true
        });

        //login
        PDK.login({ scope : 'read_relationships,read_public' }, function(response){
            if (!response || response.error) {
              //  alert('Error occurred');
            } else {
               //console.log(JSON.stringify(response));
                
            }
            //console.log('Welcome,  ' + response.data.first_name + '!');
            
        //get board info
        var pins = [];
        PDK.request('/v1/me/', function (response) {
          if (!response || response.error) {
            //alert('Error occurred');
          } else {
            console.log(JSON.stringify(response));
              //  alert('success');
                console.log(PDK.getSession().accessToken);
                var yahoo = $( "#result" ).load( "https://api.pinterest.com/v1/me/?access_token="+PDK.getSession().accessToken+"&fields=counts" );
                console.log(yahoo);
                
                PDK.me('boards', function(response) {
                if (!response || response.error) {
                    alert('Error occurred');
                       } else {
                        var boards = response.data;
                        }
                  var B_name =new string (boards.name);
                  //document.getElementById("demo").innerHTML = JSON.stringify(boards);
                                    document.getElementById("demo").innerHTML = JSON.stringify(B_name);
  
                  document.getElementById("demo2").innerHTML = typeof(B_name);
                                         });

                //PDK.logout();
          }
        });

        //end get board info
        });
        //end login
    };

    (function(d, s, id){
        var js, pjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) {return;}
        js = d.createElement(s); js.id = id;
        js.src = "//assets.pinterest.com/sdk/sdk.js";
        pjs.parentNode.insertBefore(js, pjs);
    }(document, 'script', 'pinterest-jssdk'));

    }
</script>

</body>
</html>
